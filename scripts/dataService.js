app.factory('data', function(){

	var pricesRaw = 	[{"date":"1997-07-31","San Francisco":234600,"Boston":153800,"Seattle":154900,"Portland":143600,"Dallas":82300,"Atlanta":96900},
		{"date":"1997-08-31","San Francisco":236700,"Boston":155500,"Seattle":156600,"Portland":144000,"Dallas":82200,"Atlanta":98100},
		{"date":"1997-09-30","San Francisco":238900,"Boston":157200,"Seattle":158200,"Portland":145500,"Dallas":82400,"Atlanta":99300},
		{"date":"1997-10-31","San Francisco":241000,"Boston":158200,"Seattle":159700,"Portland":146800,"Dallas":82700,"Atlanta":99900},
		{"date":"1997-11-30","San Francisco":243400,"Boston":160000,"Seattle":161200,"Portland":147100,"Dallas":83100,"Atlanta":100600},
		{"date":"1997-12-31","San Francisco":246100,"Boston":161800,"Seattle":162700,"Portland":146800,"Dallas":83700,"Atlanta":100800},
		{"date":"1998-01-31","San Francisco":247600,"Boston":165100,"Seattle":164200,"Portland":147300,"Dallas":83600,"Atlanta":100400},
		{"date":"1998-02-28","San Francisco":247500,"Boston":169900,"Seattle":165800,"Portland":148600,"Dallas":83700,"Atlanta":100500},
		{"date":"1998-03-31","San Francisco":249200,"Boston":171100,"Seattle":168100,"Portland":149600,"Dallas":83600,"Atlanta":101300},
		{"date":"1998-04-30","San Francisco":254100,"Boston":168000,"Seattle":170500,"Portland":150100,"Dallas":84600,"Atlanta":102100},
		{"date":"1998-05-31","San Francisco":259400,"Boston":166600,"Seattle":171000,"Portland":150200,"Dallas":85000,"Atlanta":102700},
		{"date":"1998-06-30","San Francisco":264800,"Boston":168200,"Seattle":170800,"Portland":150000,"Dallas":85700,"Atlanta":103700},
		{"date":"1998-07-31","San Francisco":268500,"Boston":170200,"Seattle":172100,"Portland":150000,"Dallas":86100,"Atlanta":104800},
		{"date":"1998-08-31","San Francisco":270700,"Boston":171900,"Seattle":174300,"Portland":150300,"Dallas":86900,"Atlanta":105800},
		{"date":"1998-09-30","San Francisco":273000,"Boston":173200,"Seattle":175600,"Portland":150600,"Dallas":87600,"Atlanta":106500},
		{"date":"1998-10-31","San Francisco":274500,"Boston":174900,"Seattle":176600,"Portland":151300,"Dallas":88600,"Atlanta":107300},
		{"date":"1998-11-30","San Francisco":275000,"Boston":176900,"Seattle":178100,"Portland":152900,"Dallas":89500,"Atlanta":108200},
		{"date":"1998-12-31","San Francisco":275800,"Boston":178600,"Seattle":180000,"Portland":153700,"Dallas":89900,"Atlanta":109200},
		{"date":"1999-01-31","San Francisco":276300,"Boston":182000,"Seattle":181300,"Portland":153700,"Dallas":91300,"Atlanta":110000},
		{"date":"1999-02-28","San Francisco":277000,"Boston":186900,"Seattle":182400,"Portland":155000,"Dallas":92400,"Atlanta":110800},
		{"date":"1999-03-31","San Francisco":280400,"Boston":188800,"Seattle":184200,"Portland":156900,"Dallas":93700,"Atlanta":111900},
		{"date":"1999-04-30","San Francisco":285600,"Boston":186600,"Seattle":186600,"Portland":157000,"Dallas":94200,"Atlanta":113000},
		{"date":"1999-05-31","San Francisco":292300,"Boston":186000,"Seattle":187800,"Portland":156100,"Dallas":95000,"Atlanta":114100},
		{"date":"1999-06-30","San Francisco":300500,"Boston":188800,"Seattle":188100,"Portland":155700,"Dallas":96000,"Atlanta":115300},
		{"date":"1999-07-31","San Francisco":307600,"Boston":192300,"Seattle":189000,"Portland":155100,"Dallas":96700,"Atlanta":116500},
		{"date":"1999-08-31","San Francisco":312800,"Boston":194800,"Seattle":190600,"Portland":153700,"Dallas":97600,"Atlanta":117700},
		{"date":"1999-09-30","San Francisco":317700,"Boston":197600,"Seattle":192100,"Portland":153100,"Dallas":97800,"Atlanta":118700},
		{"date":"1999-10-31","San Francisco":321800,"Boston":200400,"Seattle":193600,"Portland":153700,"Dallas":98100,"Atlanta":119400},
		{"date":"1999-11-30","San Francisco":326100,"Boston":203400,"Seattle":194900,"Portland":154400,"Dallas":98500,"Atlanta":120300},
		{"date":"1999-12-31","San Francisco":332100,"Boston":206500,"Seattle":195600,"Portland":154500,"Dallas":98900,"Atlanta":121400},
		{"date":"2000-01-31","San Francisco":338300,"Boston":211400,"Seattle":196600,"Portland":155700,"Dallas":98300,"Atlanta":122300},
		{"date":"2000-02-29","San Francisco":345100,"Boston":217400,"Seattle":198700,"Portland":157300,"Dallas":97700,"Atlanta":122600},
		{"date":"2000-03-31","San Francisco":356500,"Boston":220600,"Seattle":201000,"Portland":158800,"Dallas":97200,"Atlanta":123200},
		{"date":"2000-04-30","San Francisco":369500,"Boston":219800,"Seattle":202500,"Portland":159200,"Dallas":98300,"Atlanta":124000},
		{"date":"2000-05-31","San Francisco":379300,"Boston":220900,"Seattle":203000,"Portland":159000,"Dallas":99000,"Atlanta":124900},
		{"date":"2000-06-30","San Francisco":385500,"Boston":225300,"Seattle":202700,"Portland":158800,"Dallas":99700,"Atlanta":125900},
		{"date":"2000-07-31","San Francisco":390100,"Boston":229800,"Seattle":202800,"Portland":158700,"Dallas":100400,"Atlanta":127000},
		{"date":"2000-08-31","San Francisco":396000,"Boston":232900,"Seattle":204200,"Portland":157900,"Dallas":101300,"Atlanta":127900},
		{"date":"2000-09-30","San Francisco":405000,"Boston":236200,"Seattle":205800,"Portland":157500,"Dallas":102500,"Atlanta":128700},
		{"date":"2000-10-31","San Francisco":414400,"Boston":240000,"Seattle":206800,"Portland":158000,"Dallas":103300,"Atlanta":129800},
		{"date":"2000-11-30","San Francisco":423900,"Boston":243700,"Seattle":207600,"Portland":158500,"Dallas":104000,"Atlanta":131200},
		{"date":"2000-12-31","San Francisco":433600,"Boston":248100,"Seattle":208800,"Portland":159500,"Dallas":104500,"Atlanta":132100},
		{"date":"2001-01-31","San Francisco":440100,"Boston":253900,"Seattle":209700,"Portland":160800,"Dallas":104800,"Atlanta":132100},
		{"date":"2001-02-28","San Francisco":444500,"Boston":260000,"Seattle":210600,"Portland":162200,"Dallas":105700,"Atlanta":132300},
		{"date":"2001-03-31","San Francisco":447300,"Boston":262200,"Seattle":211800,"Portland":163000,"Dallas":106500,"Atlanta":132900},
		{"date":"2001-04-30","San Francisco":445900,"Boston":261600,"Seattle":213400,"Portland":163100,"Dallas":107500,"Atlanta":133800},
		{"date":"2001-05-31","San Francisco":439600,"Boston":262000,"Seattle":214700,"Portland":163400,"Dallas":108200,"Atlanta":134600},
		{"date":"2001-06-30","San Francisco":432800,"Boston":264800,"Seattle":215200,"Portland":164100,"Dallas":108800,"Atlanta":135300},
		{"date":"2001-07-31","San Francisco":427600,"Boston":268000,"Seattle":215500,"Portland":164600,"Dallas":109700,"Atlanta":135900},
		{"date":"2001-08-31","San Francisco":424800,"Boston":272000,"Seattle":216300,"Portland":165400,"Dallas":110400,"Atlanta":136700},
		{"date":"2001-09-30","San Francisco":422600,"Boston":275100,"Seattle":217300,"Portland":166100,"Dallas":111100,"Atlanta":137400},
		{"date":"2001-10-31","San Francisco":419100,"Boston":277200,"Seattle":218500,"Portland":166400,"Dallas":111800,"Atlanta":138000},
		{"date":"2001-11-30","San Francisco":413500,"Boston":278200,"Seattle":219700,"Portland":166900,"Dallas":112600,"Atlanta":138800},
		{"date":"2001-12-31","San Francisco":410100,"Boston":277900,"Seattle":220800,"Portland":168400,"Dallas":113600,"Atlanta":139100},
		{"date":"2002-01-31","San Francisco":412100,"Boston":279300,"Seattle":221700,"Portland":169700,"Dallas":114400,"Atlanta":139300},
		{"date":"2002-02-28","San Francisco":417600,"Boston":282700,"Seattle":222200,"Portland":170300,"Dallas":115000,"Atlanta":140000},
		{"date":"2002-03-31","San Francisco":424700,"Boston":286100,"Seattle":222400,"Portland":170400,"Dallas":115500,"Atlanta":140500},
		{"date":"2002-04-30","San Francisco":434400,"Boston":289500,"Seattle":223000,"Portland":171000,"Dallas":116000,"Atlanta":140700},
		{"date":"2002-05-31","San Francisco":444400,"Boston":293900,"Seattle":224000,"Portland":171800,"Dallas":116600,"Atlanta":141400},
		{"date":"2002-06-30","San Francisco":451900,"Boston":298300,"Seattle":225100,"Portland":172500,"Dallas":117300,"Atlanta":142100},
		{"date":"2002-07-31","San Francisco":457700,"Boston":303100,"Seattle":226200,"Portland":173300,"Dallas":117800,"Atlanta":142600},
		{"date":"2002-08-31","San Francisco":462500,"Boston":307400,"Seattle":227100,"Portland":173900,"Dallas":118200,"Atlanta":143400},
		{"date":"2002-09-30","San Francisco":465900,"Boston":311600,"Seattle":228000,"Portland":174800,"Dallas":118700,"Atlanta":144100},
		{"date":"2002-10-31","San Francisco":468200,"Boston":314800,"Seattle":229500,"Portland":176600,"Dallas":119100,"Atlanta":144700},
		{"date":"2002-11-30","San Francisco":469200,"Boston":317800,"Seattle":230700,"Portland":178600,"Dallas":119800,"Atlanta":145100},
		{"date":"2002-12-31","San Francisco":469100,"Boston":319300,"Seattle":231600,"Portland":179200,"Dallas":120200,"Atlanta":145500},
		{"date":"2003-01-31","San Francisco":470000,"Boston":319500,"Seattle":232600,"Portland":179100,"Dallas":120300,"Atlanta":146200},
		{"date":"2003-02-28","San Francisco":471600,"Boston":320500,"Seattle":233400,"Portland":180000,"Dallas":120300,"Atlanta":146900},
		{"date":"2003-03-31","San Francisco":471300,"Boston":322200,"Seattle":233700,"Portland":181300,"Dallas":120100,"Atlanta":147300},
		{"date":"2003-04-30","San Francisco":470400,"Boston":323500,"Seattle":234300,"Portland":181800,"Dallas":120400,"Atlanta":147300},
		{"date":"2003-05-31","San Francisco":471100,"Boston":323800,"Seattle":235200,"Portland":181800,"Dallas":120600,"Atlanta":147600},
		{"date":"2003-06-30","San Francisco":475000,"Boston":324400,"Seattle":236100,"Portland":182200,"Dallas":120900,"Atlanta":148200},
		{"date":"2003-07-31","San Francisco":481500,"Boston":325900,"Seattle":237500,"Portland":183300,"Dallas":121100,"Atlanta":148700},
		{"date":"2003-08-31","San Francisco":488800,"Boston":328400,"Seattle":239300,"Portland":184200,"Dallas":120900,"Atlanta":149100},
		{"date":"2003-09-30","San Francisco":496300,"Boston":331100,"Seattle":241200,"Portland":185000,"Dallas":120900,"Atlanta":149700},
		{"date":"2003-10-31","San Francisco":504000,"Boston":333800,"Seattle":242800,"Portland":186400,"Dallas":121000,"Atlanta":150100},
		{"date":"2003-11-30","San Francisco":511900,"Boston":336100,"Seattle":244600,"Portland":188700,"Dallas":121200,"Atlanta":150600},
		{"date":"2003-12-31","San Francisco":520600,"Boston":338700,"Seattle":246600,"Portland":190800,"Dallas":121300,"Atlanta":151300},
		{"date":"2004-01-31","San Francisco":527900,"Boston":341900,"Seattle":248700,"Portland":191900,"Dallas":123300,"Atlanta":151800},
		{"date":"2004-02-29","San Francisco":533600,"Boston":344200,"Seattle":250700,"Portland":192100,"Dallas":125400,"Atlanta":152000},
		{"date":"2004-03-31","San Francisco":539900,"Boston":346900,"Seattle":253100,"Portland":193200,"Dallas":128100,"Atlanta":152600},
		{"date":"2004-04-30","San Francisco":548700,"Boston":350000,"Seattle":255700,"Portland":195000,"Dallas":128600,"Atlanta":153400},
		{"date":"2004-05-31","San Francisco":558100,"Boston":352800,"Seattle":257900,"Portland":196600,"Dallas":128900,"Atlanta":154000},
		{"date":"2004-06-30","San Francisco":569100,"Boston":354600,"Seattle":260100,"Portland":198400,"Dallas":128600,"Atlanta":154600},
		{"date":"2004-07-31","San Francisco":580000,"Boston":356000,"Seattle":262600,"Portland":200900,"Dallas":128700,"Atlanta":155200},
		{"date":"2004-08-31","San Francisco":589600,"Boston":357800,"Seattle":264800,"Portland":203700,"Dallas":129200,"Atlanta":155700},
		{"date":"2004-09-30","San Francisco":598700,"Boston":360700,"Seattle":267200,"Portland":206100,"Dallas":129700,"Atlanta":155900},
		{"date":"2004-10-31","San Francisco":610500,"Boston":363600,"Seattle":270600,"Portland":208000,"Dallas":129900,"Atlanta":156500},
		{"date":"2004-11-30","San Francisco":625600,"Boston":366500,"Seattle":274400,"Portland":210100,"Dallas":130000,"Atlanta":157700},
		{"date":"2004-12-31","San Francisco":640200,"Boston":370300,"Seattle":278100,"Portland":213100,"Dallas":130200,"Atlanta":159000},
		{"date":"2005-01-31","San Francisco":651400,"Boston":374100,"Seattle":281300,"Portland":216000,"Dallas":131200,"Atlanta":160200},
		{"date":"2005-02-28","San Francisco":660300,"Boston":375900,"Seattle":284700,"Portland":218000,"Dallas":132000,"Atlanta":161100},
		{"date":"2005-03-31","San Francisco":670500,"Boston":376600,"Seattle":289000,"Portland":219800,"Dallas":132800,"Atlanta":161600},
		{"date":"2005-04-30","San Francisco":679800,"Boston":377400,"Seattle":293500,"Portland":223700,"Dallas":132800,"Atlanta":161900},
		{"date":"2005-05-31","San Francisco":687100,"Boston":378100,"Seattle":297500,"Portland":228500,"Dallas":132800,"Atlanta":162000},
		{"date":"2005-06-30","San Francisco":692700,"Boston":378900,"Seattle":302300,"Portland":233300,"Dallas":132800,"Atlanta":162400},
		{"date":"2005-07-31","San Francisco":698200,"Boston":379600,"Seattle":307900,"Portland":238800,"Dallas":133000,"Atlanta":163100},
		{"date":"2005-08-31","San Francisco":703300,"Boston":379400,"Seattle":313500,"Portland":245700,"Dallas":133300,"Atlanta":164300},
		{"date":"2005-09-30","San Francisco":707200,"Boston":378600,"Seattle":318900,"Portland":251600,"Dallas":133300,"Atlanta":165200},
		{"date":"2005-10-31","San Francisco":707500,"Boston":378800,"Seattle":323800,"Portland":256600,"Dallas":133700,"Atlanta":166200},
		{"date":"2005-11-30","San Francisco":707700,"Boston":378700,"Seattle":328700,"Portland":260000,"Dallas":134100,"Atlanta":167100},
		{"date":"2005-12-31","San Francisco":708000,"Boston":377600,"Seattle":333600,"Portland":263200,"Dallas":135000,"Atlanta":168300},
		{"date":"2006-01-31","San Francisco":708100,"Boston":376300,"Seattle":337800,"Portland":267200,"Dallas":136000,"Atlanta":170200},
		{"date":"2006-02-28","San Francisco":706600,"Boston":376300,"Seattle":341800,"Portland":271900,"Dallas":137300,"Atlanta":172000},
		{"date":"2006-03-31","San Francisco":703400,"Boston":376400,"Seattle":346400,"Portland":275800,"Dallas":138200,"Atlanta":172500},
		{"date":"2006-04-30","San Francisco":699400,"Boston":374800,"Seattle":350500,"Portland":279300,"Dallas":138600,"Atlanta":172700},
		{"date":"2006-05-31","San Francisco":697200,"Boston":371500,"Seattle":353900,"Portland":283100,"Dallas":138700,"Atlanta":173200},
		{"date":"2006-06-30","San Francisco":692600,"Boston":367700,"Seattle":357100,"Portland":285700,"Dallas":138900,"Atlanta":173400},
		{"date":"2006-07-31","San Francisco":686400,"Boston":364400,"Seattle":360200,"Portland":286300,"Dallas":139200,"Atlanta":173600},
		{"date":"2006-08-31","San Francisco":680700,"Boston":362400,"Seattle":363400,"Portland":286800,"Dallas":139400,"Atlanta":174200},
		{"date":"2006-09-30","San Francisco":676000,"Boston":360800,"Seattle":365900,"Portland":288500,"Dallas":139600,"Atlanta":174600},
		{"date":"2006-10-31","San Francisco":672200,"Boston":358700,"Seattle":367800,"Portland":289000,"Dallas":140000,"Atlanta":174800},
		{"date":"2006-11-30","San Francisco":670200,"Boston":357000,"Seattle":369200,"Portland":288300,"Dallas":140500,"Atlanta":174900},
		{"date":"2006-12-31","San Francisco":671800,"Boston":357000,"Seattle":370900,"Portland":288900,"Dallas":141000,"Atlanta":173600},
		{"date":"2007-01-31","San Francisco":676000,"Boston":358000,"Seattle":373700,"Portland":290400,"Dallas":141500,"Atlanta":172600},
		{"date":"2007-02-28","San Francisco":678000,"Boston":358600,"Seattle":376300,"Portland":291400,"Dallas":141700,"Atlanta":173900},
		{"date":"2007-03-31","San Francisco":677900,"Boston":357800,"Seattle":377400,"Portland":292200,"Dallas":141600,"Atlanta":175600},
		{"date":"2007-04-30","San Francisco":677800,"Boston":356200,"Seattle":378200,"Portland":292600,"Dallas":141700,"Atlanta":175400},
		{"date":"2007-05-31","San Francisco":675800,"Boston":354300,"Seattle":379100,"Portland":292100,"Dallas":142100,"Atlanta":174700},
		{"date":"2007-06-30","San Francisco":671600,"Boston":352500,"Seattle":379200,"Portland":291800,"Dallas":143300,"Atlanta":174200},
		{"date":"2007-07-31","San Francisco":667800,"Boston":350800,"Seattle":378400,"Portland":291600,"Dallas":144400,"Atlanta":173500},
		{"date":"2007-08-31","San Francisco":662700,"Boston":349000,"Seattle":376600,"Portland":289600,"Dallas":145700,"Atlanta":172600},
		{"date":"2007-09-30","San Francisco":656800,"Boston":346800,"Seattle":373800,"Portland":288400,"Dallas":146300,"Atlanta":171400},
		{"date":"2007-10-31","San Francisco":648900,"Boston":345300,"Seattle":370800,"Portland":287000,"Dallas":147200,"Atlanta":170400},
		{"date":"2007-11-30","San Francisco":638400,"Boston":343700,"Seattle":367500,"Portland":285600,"Dallas":147300,"Atlanta":169500},
		{"date":"2007-12-31","San Francisco":628600,"Boston":341700,"Seattle":366400,"Portland":284500,"Dallas":147000,"Atlanta":170800},
		{"date":"2008-01-31","San Francisco":622600,"Boston":338500,"Seattle":365200,"Portland":284100,"Dallas":143400,"Atlanta":170600},
		{"date":"2008-02-29","San Francisco":615800,"Boston":336000,"Seattle":362200,"Portland":282100,"Dallas":139400,"Atlanta":168200},
		{"date":"2008-03-31","San Francisco":605200,"Boston":334500,"Seattle":358300,"Portland":279700,"Dallas":136100,"Atlanta":166300},
		{"date":"2008-04-30","San Francisco":594100,"Boston":333000,"Seattle":355000,"Portland":277400,"Dallas":135700,"Atlanta":166100},
		{"date":"2008-05-31","San Francisco":582500,"Boston":331300,"Seattle":351500,"Portland":275600,"Dallas":136100,"Atlanta":164300},
		{"date":"2008-06-30","San Francisco":572400,"Boston":330200,"Seattle":347500,"Portland":273700,"Dallas":136000,"Atlanta":162800},
		{"date":"2008-07-31","San Francisco":562900,"Boston":329700,"Seattle":343000,"Portland":270200,"Dallas":135700,"Atlanta":161300},
		{"date":"2008-08-31","San Francisco":553800,"Boston":328300,"Seattle":339200,"Portland":267100,"Dallas":135200,"Atlanta":158300},
		{"date":"2008-09-30","San Francisco":545300,"Boston":326000,"Seattle":335600,"Portland":263400,"Dallas":134900,"Atlanta":156800},
		{"date":"2008-10-31","San Francisco":536200,"Boston":323000,"Seattle":330300,"Portland":259500,"Dallas":133700,"Atlanta":155100},
		{"date":"2008-11-30","San Francisco":523900,"Boston":320300,"Seattle":324500,"Portland":254400,"Dallas":132100,"Atlanta":151900},
		{"date":"2008-12-31","San Francisco":511600,"Boston":315900,"Seattle":319300,"Portland":251300,"Dallas":130900,"Atlanta":147700},
		{"date":"2009-01-31","San Francisco":502300,"Boston":312900,"Seattle":316000,"Portland":250800,"Dallas":131100,"Atlanta":144900},
		{"date":"2009-02-28","San Francisco":497700,"Boston":312000,"Seattle":313700,"Portland":250700,"Dallas":131700,"Atlanta":143600},
		{"date":"2009-03-31","San Francisco":493900,"Boston":310700,"Seattle":309200,"Portland":247800,"Dallas":131200,"Atlanta":143300},
		{"date":"2009-04-30","San Francisco":489500,"Boston":309800,"Seattle":304500,"Portland":245100,"Dallas":130100,"Atlanta":142600},
		{"date":"2009-05-31","San Francisco":490000,"Boston":312200,"Seattle":302700,"Portland":244000,"Dallas":129300,"Atlanta":142600},
		{"date":"2009-06-30","San Francisco":493900,"Boston":314700,"Seattle":302000,"Portland":243000,"Dallas":129000,"Atlanta":142400},
		{"date":"2009-07-31","San Francisco":497300,"Boston":316000,"Seattle":300800,"Portland":242800,"Dallas":129200,"Atlanta":142200},
		{"date":"2009-08-31","San Francisco":501500,"Boston":317000,"Seattle":300500,"Portland":243000,"Dallas":129800,"Atlanta":142900},
		{"date":"2009-09-30","San Francisco":506400,"Boston":318200,"Seattle":301000,"Portland":243400,"Dallas":130600,"Atlanta":143100},
		{"date":"2009-10-31","San Francisco":510900,"Boston":319500,"Seattle":301900,"Portland":244400,"Dallas":131500,"Atlanta":142400},
		{"date":"2009-11-30","San Francisco":517600,"Boston":320700,"Seattle":302800,"Portland":245300,"Dallas":132400,"Atlanta":142200},
		{"date":"2009-12-31","San Francisco":519600,"Boston":320800,"Seattle":301000,"Portland":243300,"Dallas":132700,"Atlanta":141900},
		{"date":"2010-01-31","San Francisco":517800,"Boston":319900,"Seattle":298300,"Portland":240400,"Dallas":132200,"Atlanta":140900},
		{"date":"2010-02-28","San Francisco":517700,"Boston":319500,"Seattle":296500,"Portland":240000,"Dallas":131600,"Atlanta":139700},
		{"date":"2010-03-31","San Francisco":516500,"Boston":320100,"Seattle":295400,"Portland":241500,"Dallas":131700,"Atlanta":138400},
		{"date":"2010-04-30","San Francisco":513900,"Boston":320200,"Seattle":294400,"Portland":241300,"Dallas":132300,"Atlanta":138200},
		{"date":"2010-05-31","San Francisco":513100,"Boston":319500,"Seattle":293400,"Portland":239000,"Dallas":132600,"Atlanta":138500},
		{"date":"2010-06-30","San Francisco":509900,"Boston":318200,"Seattle":290500,"Portland":235300,"Dallas":132100,"Atlanta":137700},
		{"date":"2010-07-31","San Francisco":505000,"Boston":316700,"Seattle":286500,"Portland":232000,"Dallas":131100,"Atlanta":135500},
		{"date":"2010-08-31","San Francisco":503400,"Boston":315200,"Seattle":283000,"Portland":229700,"Dallas":129700,"Atlanta":133000},
		{"date":"2010-09-30","San Francisco":502200,"Boston":314500,"Seattle":280500,"Portland":227800,"Dallas":128600,"Atlanta":131900},
		{"date":"2010-10-31","San Francisco":499700,"Boston":313400,"Seattle":278900,"Portland":226400,"Dallas":128000,"Atlanta":131600},
		{"date":"2010-11-30","San Francisco":497700,"Boston":312700,"Seattle":277200,"Portland":226400,"Dallas":127400,"Atlanta":130900},
		{"date":"2010-12-31","San Francisco":494200,"Boston":313300,"Seattle":273900,"Portland":225100,"Dallas":127000,"Atlanta":128900},
		{"date":"2011-01-31","San Francisco":488800,"Boston":312600,"Seattle":270800,"Portland":222100,"Dallas":127200,"Atlanta":126600},
		{"date":"2011-02-28","San Francisco":482800,"Boston":309500,"Seattle":268800,"Portland":219400,"Dallas":127400,"Atlanta":123500},
		{"date":"2011-03-31","San Francisco":478100,"Boston":308200,"Seattle":267400,"Portland":218100,"Dallas":127600,"Atlanta":120800},
		{"date":"2011-04-30","San Francisco":475300,"Boston":309600,"Seattle":265300,"Portland":217200,"Dallas":126900,"Atlanta":119100},
		{"date":"2011-05-31","San Francisco":472900,"Boston":310300,"Seattle":263000,"Portland":216700,"Dallas":126200,"Atlanta":118000},
		{"date":"2011-06-30","San Francisco":469100,"Boston":309500,"Seattle":260800,"Portland":216200,"Dallas":125700,"Atlanta":116300},
		{"date":"2011-07-31","San Francisco":467100,"Boston":308300,"Seattle":259200,"Portland":215400,"Dallas":125300,"Atlanta":116200},
		{"date":"2011-08-31","San Francisco":466300,"Boston":307400,"Seattle":258400,"Portland":214500,"Dallas":125200,"Atlanta":117400},
		{"date":"2011-09-30","San Francisco":465000,"Boston":306100,"Seattle":257700,"Portland":214100,"Dallas":124800,"Atlanta":117100},
		{"date":"2011-10-31","San Francisco":464100,"Boston":304500,"Seattle":256100,"Portland":214100,"Dallas":124600,"Atlanta":115500},
		{"date":"2011-11-30","San Francisco":463700,"Boston":304100,"Seattle":255200,"Portland":214400,"Dallas":123800,"Atlanta":114700},
		{"date":"2011-12-31","San Francisco":462700,"Boston":304700,"Seattle":254900,"Portland":214000,"Dallas":124100,"Atlanta":114300},
		{"date":"2012-01-31","San Francisco":461300,"Boston":304800,"Seattle":254500,"Portland":213800,"Dallas":124300,"Atlanta":113600},
		{"date":"2012-02-29","San Francisco":461000,"Boston":305500,"Seattle":254700,"Portland":214400,"Dallas":124900,"Atlanta":113100},
		{"date":"2012-03-31","San Francisco":464100,"Boston":306700,"Seattle":256100,"Portland":215500,"Dallas":125100,"Atlanta":113400},
		{"date":"2012-04-30","San Francisco":470000,"Boston":308200,"Seattle":258500,"Portland":216600,"Dallas":125900,"Atlanta":114000},
		{"date":"2012-05-31","San Francisco":475700,"Boston":309600,"Seattle":260700,"Portland":217700,"Dallas":126800,"Atlanta":114200},
		{"date":"2012-06-30","San Francisco":481500,"Boston":311000,"Seattle":262100,"Portland":219000,"Dallas":127300,"Atlanta":114400},
		{"date":"2012-07-31","San Francisco":487800,"Boston":310100,"Seattle":262700,"Portland":219800,"Dallas":127600,"Atlanta":112800},
		{"date":"2012-08-31","San Francisco":494700,"Boston":310000,"Seattle":263500,"Portland":221500,"Dallas":127100,"Atlanta":111100},
		{"date":"2012-09-30","San Francisco":503400,"Boston":311800,"Seattle":265900,"Portland":224300,"Dallas":128100,"Atlanta":111200},
		{"date":"2012-10-31","San Francisco":513100,"Boston":314700,"Seattle":268800,"Portland":227100,"Dallas":129500,"Atlanta":112400},
		{"date":"2012-11-30","San Francisco":520500,"Boston":317100,"Seattle":270600,"Portland":229000,"Dallas":131000,"Atlanta":113100},
		{"date":"2012-12-31","San Francisco":529900,"Boston":319100,"Seattle":272500,"Portland":231000,"Dallas":131800,"Atlanta":114300},
		{"date":"2013-01-31","San Francisco":541000,"Boston":320500,"Seattle":274200,"Portland":232500,"Dallas":132200,"Atlanta":115700},
		{"date":"2013-02-28","San Francisco":553900,"Boston":321300,"Seattle":276500,"Portland":234600,"Dallas":133000,"Atlanta":116900},
		{"date":"2013-03-31","San Francisco":570800,"Boston":323700,"Seattle":282200,"Portland":238900,"Dallas":134300,"Atlanta":118200},
		{"date":"2013-04-30","San Francisco":585600,"Boston":326300,"Seattle":287200,"Portland":242100,"Dallas":136800,"Atlanta":118800},
		{"date":"2013-05-31","San Francisco":594200,"Boston":328600,"Seattle":289500,"Portland":244500,"Dallas":139000,"Atlanta":119400},
		{"date":"2013-06-30","San Francisco":611800,"Boston":332200,"Seattle":294700,"Portland":248700,"Dallas":141100,"Atlanta":121700},
		{"date":"2013-07-31","San Francisco":626800,"Boston":338300,"Seattle":302800,"Portland":254700,"Dallas":142600,"Atlanta":125600},
		{"date":"2013-08-31","San Francisco":629100,"Boston":341100,"Seattle":306300,"Portland":258200,"Dallas":144100,"Atlanta":127700},
		{"date":"2013-09-30","San Francisco":630700,"Boston":342100,"Seattle":306000,"Portland":258600,"Dallas":143900,"Atlanta":128200},
		{"date":"2013-10-31","San Francisco":636900,"Boston":343800,"Seattle":306000,"Portland":258000,"Dallas":142900,"Atlanta":128500},
		{"date":"2013-11-30","San Francisco":637100,"Boston":349200,"Seattle":308800,"Portland":258300,"Dallas":143100,"Atlanta":135200}]

	var permitsRaw =
		[{"date":"1997-07-01","San Francisco":1144,"Boston":725,"Seattle":2067,"Portland":1816,"Dallas":3895,"Atlanta":4227},
		{"date":"1998-01-01","San Francisco":1109,"Boston":717,"Seattle":2069,"Portland":1384,"Dallas":4291,"Atlanta":4543},
		{"date":"1998-07-01","San Francisco":1467,"Boston":814,"Seattle":2390,"Portland":1577,"Dallas":4563,"Atlanta":5118},
		{"date":"1999-01-01","San Francisco":1119,"Boston":759,"Seattle":2155,"Portland":1386,"Dallas":4262,"Atlanta":4940},
		{"date":"1999-07-01","San Francisco":1082,"Boston":850,"Seattle":2036,"Portland":1036,"Dallas":3751,"Atlanta":4975},
		{"date":"2000-01-01","San Francisco":1141,"Boston":698,"Seattle":2026,"Portland":1136,"Dallas":3494,"Atlanta":5697},
		{"date":"2000-07-01","San Francisco":1197,"Boston":780,"Seattle":1968,"Portland":1121,"Dallas":3617,"Atlanta":4877},
		{"date":"2001-01-01","San Francisco":1086,"Boston":692,"Seattle":1989,"Portland":1148,"Dallas":4048,"Atlanta":5907},
		{"date":"2001-07-01","San Francisco":730,"Boston":695,"Seattle":1616,"Portland":1164,"Dallas":4108,"Atlanta":4888},
		{"date":"2002-01-01","San Francisco":1048,"Boston":750,"Seattle":1789,"Portland":1192,"Dallas":4134,"Atlanta":5777},
		{"date":"2002-07-01","San Francisco":1014,"Boston":633,"Seattle":1665,"Portland":1165,"Dallas":4399,"Atlanta":4991},
		{"date":"2003-01-01","San Francisco":1093,"Boston":649,"Seattle":1801,"Portland":1375,"Dallas":4319,"Atlanta":5000},
		{"date":"2003-07-01","San Francisco":1327,"Boston":975,"Seattle":1757,"Portland":1180,"Dallas":4569,"Atlanta":5711},
		{"date":"2004-01-01","San Francisco":1185,"Boston":1105,"Seattle":1864,"Portland":1152,"Dallas":4498,"Atlanta":5956},
		{"date":"2004-07-01","San Francisco":1324,"Boston":1377,"Seattle":2064,"Portland":1463,"Dallas":4374,"Atlanta":6399},
		{"date":"2005-01-01","San Francisco":1114,"Boston":1381,"Seattle":2017,"Portland":1319,"Dallas":4720,"Atlanta":5923},
		{"date":"2005-07-01","San Francisco":1357,"Boston":1382,"Seattle":2240,"Portland":1507,"Dallas":5348,"Atlanta":5927},
		{"date":"2006-01-01","San Francisco":1406,"Boston":1320,"Seattle":2190,"Portland":1462,"Dallas":5100,"Atlanta":6478},
		{"date":"2006-07-01","San Francisco":857,"Boston":1111,"Seattle":2127,"Portland":1081,"Dallas":4247,"Atlanta":4967},
		{"date":"2007-01-01","San Francisco":859,"Boston":954,"Seattle":2414,"Portland":1260,"Dallas":3611,"Atlanta":4605},
		{"date":"2007-07-01","San Francisco":776,"Boston":769,"Seattle":1959,"Portland":908,"Dallas":3222,"Atlanta":2697},
		{"date":"2008-01-01","San Francisco":802,"Boston":844,"Seattle":1536,"Portland":700,"Dallas":3145,"Atlanta":1921},
		{"date":"2008-07-01","San Francisco":442,"Boston":452,"Seattle":987,"Portland":556,"Dallas":2278,"Atlanta":1212},
		{"date":"2009-01-01","San Francisco":281,"Boston":445,"Seattle":610,"Portland":303,"Dallas":1758,"Atlanta":535},
		{"date":"2009-07-01","San Francisco":299,"Boston":449,"Seattle":603,"Portland":349,"Dallas":1601,"Atlanta":562},
		{"date":"2010-01-01","San Francisco":418,"Boston":536,"Seattle":781,"Portland":380,"Dallas":1588,"Atlanta":717},
		{"date":"2010-07-01","San Francisco":357,"Boston":570,"Seattle":870,"Portland":376,"Dallas":1628,"Atlanta":527},
		{"date":"2011-01-01","San Francisco":463,"Boston":460,"Seattle":906,"Portland":361,"Dallas":1971,"Atlanta":688},
		{"date":"2011-07-01","San Francisco":435,"Boston":541,"Seattle":955,"Portland":517,"Dallas":2071,"Atlanta":737},
		{"date":"2012-01-01","San Francisco":492,"Boston":721,"Seattle":1353,"Portland":577,"Dallas":2551,"Atlanta":1174},
		{"date":"2012-07-01","San Francisco":974,"Boston":735,"Seattle":1470,"Portland":733,"Dallas":2827,"Atlanta":1225},
		{"date":"2013-01-01","San Francisco":1000,"Boston":892,"Seattle":1413,"Portland":964,"Dallas":2858,"Atlanta":2106}];

	var profilesRaw = 
		[{"key":"Median Income","San Francisco":77183,"Boston":69983,"Portland":57986,"Seattle":67437,"Dallas":58190,"Atlanta":57470},
		{"key":"Median House Price","San Francisco":595400,"Boston":366400,"Portland":288300,"Seattle":336900,"Dallas":149500,"Atlanta":177300},
		{"key":"Rent","San Francisco":1381,"Boston":1184,"Portland":916,"Seattle":1072,"Dallas":889,"Atlanta":949},
		{"key":"Housing multiple","San Francisco":8,"Boston":5,"Portland":5,"Seattle":5,"Dallas":3,"Atlanta":3},
		{"key":"Rent multiple","San Francisco":0,"Boston":0,"Portland":0,"Seattle":0,"Dallas":0,"Atlanta":0},
		{"key":"Housing units","San Francisco":1741999,"Boston":1883206,"Portland":925076,"Seattle":1463295,"Dallas":2502075,"Atlanta":2165495},
		{"key":"Land Area","San Francisco":2470,"Boston":3487,"Portland":6683,"Seattle":5873,"Dallas":8927,"Atlanta":8339}];

	var parseDate = d3.time.format("%Y-%m-%d").parse;

	var cityNames = d3.keys(permitsRaw[0])
			.filter(function(key){return key !== "date"});

	var prices = {};

	var lowerBound = parseDate("1997-07-01");

	var pricesRaw = pricesRaw.filter(function(d,i){ return i%3 == 0; });

	var permits = {};

	var profiles = {};

	profilesRaw.forEach(function(d){
		profiles[d.key] = d;
	});

	cityNames.forEach(function(name) {
			permits[name] = permitsRaw.map(function(d) {
		      return {date: parseDate(d.date), val: +d[name]};
		    });

			prices[name] = pricesRaw.map(function(d) {
		      return {date: parseDate(d.date), val: +d[name]};
		    });


	});



	return {
		prices: prices,
		permits: permits,
		cityNames: cityNames,
		profiles: profiles
	};

});