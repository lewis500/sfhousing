
<!DOCTYPE html>
<meta charset="utf-8">
<link href='http://fonts.googleapis.com/css?family=Fenix' rel='stylesheet' type='text/css'>
<style>

body{
  font-family: Fenix, serif;
  font-size: 11;
}

h4{
  margin-bottom: 0px;
  text-align: center;
}

#main{
  width: 620px;
}


</style>

<link rel="stylesheet" href="style/slider.css">

<script src="http://d3js.org/d3.v3.js"></script>
<script src="scripts/libraries/dimple.js"></script>
<script src="scripts/libraries/underscore.js"></script>

<body>
<div id="main">
  <h4>Net Changes since 1991</h4>
  <div id ="chartContainer2"></div>
  <div id="slider"></div>
  <div id="icons"></div>
</div>

</body>
<div style="opacity:0">
  
<svg 
   width="20.88px" height="21.371px">
<polygon id="house" style="fill:#d26b5f;" points="0,10.37 0,10.37 10.439,0 15.261,4.789 15.261,1.661 
  17.746,1.661 17.746,7.258 20.88,10.37 20.88,10.37 17.376,10.37 17.376,21.371 12.191,21.371 12.191,14.995 7.918,14.995 
  7.918,21.371 2.732,21.371 2.732,10.37 "/>
</svg>

<svg width="100px" height="100px">
<g id = "worker">
<g id ="subworker">
<g transform="scale(0.6)" fill="#d39651">
<path d="M46.902,99C47.524,95.74,48,92.447,48,88.423C48,76.039,44.642,66,40.5,66C36.357,66,33,76.039,33,88.423  c0,3.835,0.333,7.422,0.902,10.577"/>
<path d="M62.229,51.678c1.54,13.452,7.729,23.793,13.825,23.096c6.098-0.698,9.791-12.17,8.25-25.623  c-1.54-13.454-3.73-23.907-9.827-23.209C68.381,26.64,60.689,38.224,62.229,51.678z"/>
<path d="M76.583,27.178c1.485,2.701-4.507,8.94-13.382,13.931c-8.878,4.993-17.278,6.848-18.762,4.146  c-1.486-2.702,4.505-8.939,13.38-13.933C66.697,26.331,75.097,24.477,76.583,27.178z"/>
<ellipse cx="58.667" cy="69.676" rx="22" ry="8.108"/>
<ellipse cx="68.833" cy="12.979" rx="10.833" ry="10.98"/>
<path d="M3,49.241L58.636,49c0,0,3.438,2.889-0.239,7.223C54.719,60.555,3,62,3,62V49.241z"/>
<path d="M37,47c0,0,5-1,3.5-3.985c-0.225-0.447-23.04-1.329-23.04-1.329l-6.882-25.24c0,0-3.435-2.682-4.528,1.328  C4.963,21.76,12.804,47,12.804,47"/>
</g>
</g>
</g>
</svg>

<svg 
   width="64px" height="64px" >
<g id="people" >
  <g id="subpeople" fill="#6b94b0">
  <path d="M12.476,18.525c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217
    c0.003-2.7,0.007-5.401-0.002-8.101c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003
    c-1.463,0.005-2.229,0.771-2.233,2.228c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142
    c0.025,0.585,0.445,0.966,0.988,0.967c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536
    c0-1.83-0.005-3.66,0.01-5.49c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484
    c0.044,0.118,0.009,0.265,0.009,0.399c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529
    c0.804,0.016,1.256-0.528,1.259-1.54c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486
    c0.003-0.182,0.172-0.362,0.263-0.542c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792
    c0,2.991,0.002,5.981-0.002,8.972c-0.001,0.559,0.166,1.09,0.711,1.237c0.399,0.108,0.988,0.084,1.283-0.148
    c0.304-0.239,0.493-0.8,0.496-1.222c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265
    c0.056-0.144,0.146-0.275,0.221-0.412c0.084,0.126,0.219,0.243,0.242,0.379c0.041,0.239,0.016,0.489,0.015,0.734
    C12.476,15.132,12.469,16.828,12.476,18.525z"/>
  <path d="M11.235,5.505c0.008-1.112-0.877-2.007-1.983-2.006C8.144,3.5,7.239,4.399,7.246,5.492c0.007,1.07,0.888,1.951,1.961,1.963
    C10.344,7.468,11.227,6.618,11.235,5.505z"/>
  <path d="M28.988,10.451c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003
    c-1.463,0.005-2.229,0.771-2.233,2.228c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142
    c0.025,0.585,0.445,0.966,0.988,0.967c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536
    c0-1.83-0.005-3.66,0.01-5.49c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484
    c0.044,0.118,0.009,0.265,0.009,0.399c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529
    c0.804,0.016,1.256-0.528,1.259-1.54c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486
    c0.003-0.182,0.172-0.362,0.263-0.542c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792
    c0,2.991,0.002,5.981-0.002,8.972c-0.001,0.559,0.166,1.09,0.712,1.237c0.399,0.108,0.988,0.084,1.283-0.148
    c0.304-0.239,0.493-0.8,0.496-1.222c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265
    c0.056-0.144,0.146-0.275,0.221-0.412c0.085,0.126,0.219,0.243,0.243,0.379C27.026,12.94,27,13.191,27,13.436
    c-0.001,1.696-0.008,3.392,0,5.089c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217
    C28.993,15.851,28.996,13.151,28.988,10.451z"/>
  <path d="M23.776,3.5C22.667,3.5,21.762,4.399,21.77,5.492c0.007,1.07,0.888,1.951,1.961,1.963c1.136,0.012,2.019-0.837,2.027-1.95
    C25.767,4.394,24.882,3.499,23.776,3.5z"/>
  <path d="M44.464,10.451c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003
    c-1.463,0.005-2.229,0.771-2.233,2.228c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142
    c0.025,0.585,0.445,0.966,0.988,0.967c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536
    c0-1.83-0.005-3.66,0.01-5.49c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484
    c0.044,0.118,0.009,0.265,0.009,0.399c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529
    c0.804,0.016,1.256-0.528,1.259-1.54c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486
    c0.003-0.182,0.172-0.362,0.263-0.542c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792
    c0,2.991,0.002,5.981-0.002,8.972c-0.001,0.559,0.166,1.09,0.711,1.237c0.399,0.108,0.988,0.084,1.283-0.148
    c0.304-0.239,0.493-0.8,0.496-1.222c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265
    c0.056-0.144,0.146-0.275,0.221-0.412c0.084,0.126,0.219,0.243,0.242,0.379c0.041,0.239,0.016,0.489,0.015,0.734
    c-0.001,1.696-0.008,3.392,0,5.089c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217
    C44.469,15.851,44.473,13.151,44.464,10.451z"/>
  <path d="M39.252,3.5c-1.109,0.001-2.013,0.899-2.006,1.993c0.007,1.07,0.888,1.951,1.961,1.963c1.136,0.012,2.019-0.837,2.027-1.95
    C41.243,4.394,40.358,3.499,39.252,3.5z"/>
  <path d="M48.531,10.569c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142c0.025,0.585,0.445,0.966,0.988,0.967
    c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536c0-1.83-0.005-3.66,0.01-5.49
    c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484c0.044,0.118,0.009,0.265,0.009,0.399
    c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529c0.804,0.016,1.256-0.528,1.259-1.54
    c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486c0.003-0.182,0.172-0.362,0.263-0.542
    c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792c0,2.991,0.002,5.981-0.002,8.972
    c-0.001,0.559,0.166,1.09,0.712,1.237c0.399,0.108,0.988,0.084,1.283-0.148c0.304-0.239,0.493-0.8,0.496-1.222
    c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265c0.056-0.144,0.146-0.275,0.221-0.412
    c0.085,0.126,0.219,0.243,0.243,0.379C57.026,12.94,57,13.191,57,13.436c-0.001,1.696-0.008,3.392,0,5.089
    c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217c0.003-2.7,0.007-5.401-0.002-8.101
    c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003C49.301,8.345,48.535,9.112,48.531,10.569z"/>
  <path d="M55.758,5.505c0.008-1.112-0.877-2.007-1.983-2.006C52.667,3.5,51.762,4.399,51.77,5.492
    c0.007,1.07,0.888,1.951,1.961,1.963C54.867,7.468,55.75,6.618,55.758,5.505z"/>
  <path d="M5.005,49.771c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536c0-1.83-0.005-3.66,0.01-5.49
    c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484c0.044,0.118,0.009,0.265,0.009,0.399
    c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529c0.804,0.016,1.256-0.528,1.259-1.54
    c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486c0.003-0.182,0.172-0.362,0.263-0.542
    c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792c0,2.991,0.002,5.981-0.002,8.972
    c-0.001,0.559,0.166,1.09,0.711,1.237c0.399,0.108,0.988,0.084,1.283-0.148c0.304-0.239,0.493-0.8,0.496-1.222
    c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265c0.056-0.144,0.146-0.275,0.221-0.412
    c0.084,0.126,0.219,0.243,0.242,0.379c0.041,0.239,0.016,0.489,0.015,0.734c-0.001,1.696-0.008,3.392,0,5.089
    c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217c0.003-2.7,0.007-5.401-0.002-8.101
    c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003c-1.463,0.005-2.229,0.771-2.233,2.228
    c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142C4.041,49.389,4.462,49.769,5.005,49.771z"/>
  <path d="M7.246,35.492c0.007,1.07,0.888,1.951,1.961,1.963c1.136,0.012,2.019-0.837,2.027-1.95
    c0.008-1.112-0.877-2.007-1.983-2.006C8.144,33.5,7.239,34.399,7.246,35.492z"/>
  <path d="M27,48.525c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217c0.003-2.7,0.007-5.401-0.002-8.101
    c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003c-1.463,0.005-2.229,0.771-2.233,2.228
    c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142c0.025,0.585,0.445,0.966,0.988,0.967
    c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536c0-1.83-0.005-3.66,0.01-5.49
    c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484c0.044,0.118,0.009,0.265,0.009,0.399
    c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529c0.804,0.016,1.256-0.528,1.259-1.54
    c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486c0.003-0.182,0.172-0.362,0.263-0.542
    c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792c0,2.991,0.002,5.981-0.002,8.972
    c-0.001,0.559,0.166,1.09,0.712,1.237c0.399,0.108,0.988,0.084,1.283-0.148c0.304-0.239,0.493-0.8,0.496-1.222
    c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265c0.056-0.144,0.146-0.275,0.221-0.412
    c0.085,0.126,0.219,0.243,0.243,0.379C27.026,42.94,27,43.191,27,43.436C26.999,45.132,26.992,46.828,27,48.525z"/>
  <path d="M25.758,35.505c0.008-1.112-0.877-2.007-1.983-2.006c-1.109,0.001-2.013,0.899-2.006,1.993
    c0.007,1.07,0.888,1.951,1.961,1.963C24.867,37.468,25.75,36.618,25.758,35.505z"/>
  <path d="M42.476,48.525c0.004,0.807,0.36,1.237,0.993,1.244c0.651,0.008,0.996-0.404,0.997-1.217
    c0.003-2.7,0.007-5.401-0.002-8.101c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003
    c-1.463,0.005-2.229,0.771-2.233,2.228c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142
    c0.025,0.585,0.445,0.966,0.988,0.967c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536
    c0-1.83-0.005-3.66,0.01-5.49c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484
    c0.044,0.118,0.009,0.265,0.009,0.399c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529
    c0.804,0.016,1.256-0.528,1.259-1.54c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486
    c0.003-0.182,0.172-0.362,0.263-0.542c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792
    c0,2.991,0.002,5.981-0.002,8.972c-0.001,0.559,0.166,1.09,0.711,1.237c0.399,0.108,0.988,0.084,1.283-0.148
    c0.304-0.239,0.493-0.8,0.496-1.222c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265
    c0.056-0.144,0.146-0.275,0.221-0.412c0.084,0.126,0.219,0.243,0.242,0.379c0.041,0.239,0.016,0.489,0.015,0.734
    C42.476,45.132,42.469,46.828,42.476,48.525z"/>
  <path d="M41.235,35.505c0.008-1.112-0.877-2.007-1.983-2.006c-1.109,0.001-2.013,0.899-2.006,1.993
    c0.007,1.07,0.888,1.951,1.961,1.963C40.344,37.468,41.227,36.618,41.235,35.505z"/>
  <path d="M58.99,48.552c0.003-2.7,0.007-5.401-0.002-8.101c-0.004-1.338-0.777-2.1-2.131-2.107c-2.031-0.01-4.061-0.009-6.092-0.003
    c-1.463,0.005-2.229,0.771-2.233,2.228c-0.005,2.031-0.002,4.062-0.001,6.093c0,0.714-0.021,1.429,0.01,2.142
    c0.025,0.585,0.445,0.966,0.988,0.967c0.55,0.001,0.948-0.375,0.998-0.957c0.015-0.177,0.005-0.357,0.005-0.536
    c0-1.83-0.005-3.66,0.01-5.49c0.001-0.157,0.138-0.313,0.211-0.47c0.097,0.16,0.218,0.311,0.282,0.484
    c0.044,0.118,0.009,0.265,0.009,0.399c0,5.423-0.001,10.846,0,16.27c0,0.956,0.445,1.514,1.204,1.529
    c0.804,0.016,1.256-0.528,1.259-1.54c0.005-1.562,0.001-3.125,0.001-4.687c0-1.495-0.01-2.991,0.012-4.486
    c0.003-0.182,0.172-0.362,0.263-0.542c0.078,0.032,0.157,0.063,0.235,0.095c0,0.264,0,0.528,0,0.792
    c0,2.991,0.002,5.981-0.002,8.972c-0.001,0.559,0.166,1.09,0.712,1.237c0.399,0.108,0.988,0.084,1.283-0.148
    c0.304-0.239,0.493-0.8,0.496-1.222c0.031-5.49,0.02-10.98,0.018-16.47c0-0.089-0.033-0.189-0.004-0.265
    c0.056-0.144,0.146-0.275,0.221-0.412c0.085,0.126,0.219,0.243,0.243,0.379C57.026,42.94,57,43.191,57,43.436
    c-0.001,1.696-0.008,3.392,0,5.089c0.004,0.807,0.36,1.237,0.993,1.244C58.644,49.777,58.989,49.365,58.99,48.552z"/>
  <path d="M55.758,35.505c0.008-1.112-0.877-2.007-1.983-2.006c-1.109,0.001-2.013,0.899-2.006,1.993
    c0.007,1.07,0.888,1.951,1.961,1.963C54.867,37.468,55.75,36.618,55.758,35.505z"/>
</g>
</g>
</svg>

</div>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="scripts/libraries/slider.js"></script>
  <script src="scripts/libraries/sticker.js"></script>
  <script src="scripts/libraries/dimple.js"></script>
  <script type="text/javascript">

  var totalData = [{"Year":1992,"Jobs":207,"Housing Units":725,"Population":5153},
    {"Year":1993,"Jobs":1731,"Housing Units":1013,"Population":10569},
    {"Year":1994,"Jobs":-2512,"Housing Units":2199,"Population":12608},
    {"Year":1995,"Jobs":-9372,"Housing Units":2600,"Population":16678},
    {"Year":1996,"Jobs":-6228,"Housing Units":3283,"Population":24226},
    {"Year":1997,"Jobs":3673,"Housing Units":4008,"Population":33245},
    {"Year":1998,"Jobs":10024,"Housing Units":4882,"Population":40554},
    {"Year":1999,"Jobs":13256,"Housing Units":6167,"Population":45008},
    {"Year":2000,"Jobs":68095,"Housing Units":7964,"Population":47632},
    {"Year":2001,"Jobs":64802,"Housing Units":9743,"Population":54969},
    {"Year":2002,"Jobs":45895,"Housing Units":12151,"Population":49739},
    {"Year":2003,"Jobs":27828,"Housing Units":14647,"Population":45955},
    {"Year":2004,"Jobs":15483,"Housing Units":16134,"Population":43848},
    {"Year":2005,"Jobs":9470,"Housing Units":17989,"Population":48127},
    {"Year":2006,"Jobs":12118,"Housing Units":19903,"Population":56479},
    {"Year":2007,"Jobs":28552,"Housing Units":22470,"Population":69477},
    {"Year":2008,"Jobs":53159,"Housing Units":25733,"Population":78196},
    {"Year":2009,"Jobs":54858,"Housing Units":29187,"Population":85476},
    {"Year":2010,"Jobs":52344,"Housing Units":30417,"Population":75899},
    {"Year":2011,"Jobs":60596,"Housing Units":30686,"Population":84525},
    {"Year":2012,"Jobs":72968,"Housing Units":31294,"Population":96155}];

  var lineData = [];

  totalData.forEach(function(d){
    _.each(d, function(val, key){
      if(key!== "Year"){
        lineData.unshift({
          Year: d.Year,
          Metric: key,
          "Net Change": val
        });
      }
    })
  });

  var svg;

  var y = d3.scale.linear().domain(d3.extent(lineData.map(function(d){return d["Net Change"]; }))).range([293.4,24.8]);
  var x = d3.scale.linear().domain([1992,2012]).range([82,563]);

  function lineTotal(){

   svg = dimple.newSvg("#chartContainer2", 620, 330);
   myChart = new dimple.chart(svg, lineData);
    myChart.setBounds(70, 15, 505, 280);
    var x = myChart.addCategoryAxis("x", ["Year"]);
    var y = myChart.addMeasureAxis("y", "Net Change");
    y.tickFormat = ",g"
    var w = myChart.addSeries("Metric", dimple.plot.line);
    var leg = myChart.addLegend(50, 25, 150, 50, "right");

    myChart.draw();
    x.titleShape.remove();
    y.titleShape.remove();

  };


  d3.select("#slider")
    .style({
      width: 505 + "px",
      "margin-top": 5 + "px",
      "margin-left": 70 + "px",
    });

  var sliderCall = d3.slider().max(20).min(0).step(.25).on("slide",slide);

  d3.select('#slider').call(sliderCall);

  //implement
  lineTotal();

  var svg2 = d3.select("#icons").append("svg")
    .attr("width",620)
    .attr("height",150);

  var scale = d3.scale.linear().domain([0,100000]).range([1,2.5]);

  var icons = svg2.append("g").attr("transform","translate(" + [150,50] + ")");

  var house = icons.append("g").call(d3.sticker("#house"));

  var people = icons.append("g").call(d3.sticker("#people")).attr("transform","translate(" + [125,-5] + ") scale(0.45)");

  var worker = icons.append("g").attr("transform","translate(" + [60,0] + ") scale(0.45)");

  worker.append("g").call(d3.sticker("#worker"));

  var a = scale(totalData[0]["Housing Units"]);
  var b = scale(totalData[0]["Jobs"]);
  var c = scale(totalData[0]["Population"]);

  house.select("polygon").attr("transform","translate(" + [-a*10,-a*10] + ")" + "scale(" + a + ")");
  worker.select("#subworker").attr("transform","translate(" + [-b*28,-b*28] + ")" + "scale(" + b + ")");
  people.select("#subpeople").attr("transform","translate(" + [-c*25,-c*28] + ")" + "scale(" + c + ")");

  var paths = ["Population","Housing Units","Jobs"];

  var color = d3.scale.ordinal().domain(paths).range(["#6b94b0","#d26b5f", "#d39651"]);

  setTimeout(function(d){


    balls = svg.selectAll("balls")
      .data(paths)
      .enter()
      .append("circle")
      .attr({
        r: 5,
        fill: color,
      })
      .style("pointer-events","none");
    
  },500);


  // var circle = d3.select("").append("circle")


  function slide(event, n){


    var d = Math.round(n);

    balls
      .attr({
        transform: function(v) {
          var t = totalData[d];
          return "translate(" + [x(t["Year"]), y(t[v])] + ")";
        }
      });


    var a = scale(totalData[d]["Housing Units"]);
    var b = scale(totalData[d]["Jobs"]);
    var c = scale(totalData[d]["Population"]);

    house.select("polygon").attr("transform","translate(" + [-a*10,-a*10] + ")" + "scale(" + a + ")");
    worker.select("#subworker").attr("transform","translate(" + [-b*28,-b*28] + ")" + "scale(" + b + ")");
    people.select("#subpeople").attr("transform","translate(" + [-c*25,-c*25] + ")" + "scale(" + c + ")");


  };


  </script>





