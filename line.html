<!DOCTYPE html>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Fenix' rel='stylesheet' type='text/css'>
<style>

body{
  font-family: Fenix, serif;
  /*font-size: 11;*/
}

.g-axis path,
.g-axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.overlay {
  fill: none;
  pointer-events: all;
}

.dot{
  stroke: #000;
  fill: none;
  stroke-width: 2px;
}

.line {
  stroke-width: 1.5px;
  stroke: #000;
  fill: none;
}

.area {
  /*fill: #000;*/
  fill-opacity: 0;
}

.number{
  /*font-style: bold;*/
  font-size: 13px;
}

h4{
  text-align: center;
}

.fakeBG{
    opacity: 0.1;
    top: 15%;
    left: 5px;
    width: 90px;
    height: 90%;
    bottom: 0;
    right: -5px;
    position: absolute;
    z-index: -1;   
}

.rowtitle{
  position: relative;

  /* Safari */
  -webkit-transform: rotate(-90deg);

  /* Firefox */
  -moz-transform: rotate(-90deg);

  /* IE */
  -ms-transform: rotate(-90deg);

  /* Opera */
  -o-transform: rotate(-90deg);

  /* Internet Explorer */
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
  /*margin-top: 100px;*/
}

</style>
<body ng-app="lineApp">
<div ng-controller="mainCtrl">
  
  <div style="display: inline-block; position: relative; width:20px;">
    <div class= "rowtitle" style="top: -150px"><h4>Permits</h4></div>
    <br>
    <div class= "rowtitle" style="top:-50px"><h4>Prices</h4></div>
  </div>
  <div style="display: inline-block;">
    <div ng-repeat="which in cityNamesLoop" style="width: 100px; display: inline-block; position: relative" >
      <div class="fakeBG" style="background-color: {{color(which.name)}};" ></div>
      <h4>{{which.name}}</h4>
      <line-follow city="which.name" first= "{{$first}}" date="date.val" color="color" specs="specs.permits"></line-follow>
      <line-follow city="which.name" first= "{{$first}}" date="date.val" color="color" specs="specs.prices"></line-follow>
    </div>
  </div>
<!--   <line-follow ng-repeat="which in cityNamesLoop" city="which.name" date="date.val" color="color" specs ="specs.permits"></line-follow><br>
  <line-follow ng-repeat="which in cityNamesLoop" city="which.name" date="date.val" color="color" specs ="specs.prices"></line-follow> -->
<!--   <br>
  <line-follow ng-repeat="which in cityNamesLoop" city="which.name" data="data.prices[which.name]" date="date.val" color="color"></line-follow> -->
</div>

</body>
<script src="http://d3js.org/d3.v3.js"></script>
<script type="text/javascript" src="scripts/app.js"></script>
<script type="text/javascript" src="scripts/dataService.js"></script>
<script type="text/javascript" src="scripts/lineFollow.js"></script>


